{% assign isGroup = group is defined %}
{% unless isGroup %}
{% assign group = site.categories %}
{% endunless %}

{% assign isItemClass = itemClass is defined %}
{% unless isItemClass %}
{% assign itemClass = 'category' %}
{% endunless %}

{% assign isGroupContextRoot = groupContextRoot is defined %}
{% unless isGroupContextRoot %}
{% assign groupContextRoot = 'category' %}
{% endunless %}

{% for item in group %}
{% capture groupLink %}
{{ site.baseurl }}/{{ groupContextRoot }}/{{ item[0] }}
{% endcapture %}
  <h2 class="{{ itemClass }}-title" id="{{ item[0] | slugify }}">
    <a href="{{ groupLink }}">{{ item[0] | capitalize }}</a>
  </h2>
  <ul class="post-list">
    {% assign pages_list = item[1] %}
    {% for post in pages_list reversed %}
      {% if post.title != null %}
      <li>
          <a href="{{ site.baseurl }}{{ post.url }}">{{ post.title }}
							<span class="entry-date">
					</a>
					<time datetime="{{ post.date | date_to_xmlschema }}" itemprop="datePublished">{{ post.date | date: "%B %d, %Y" }}</time>
      </li>
      {% endif %}
    {% endfor %}
    {% assign pages_list = nil %}
  </ul>
{% endfor %}

